<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê±°ì§€ í‚¤ìš°ê¸°: ë¶€ë™ì‚° ë…ì  ëª¨ë“œ</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #121212;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        #stats {
            background: linear-gradient(145deg, #2c3e50, #000000);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #f1c40f;
            width: 100%;
            max-width: 550px;
            margin-bottom: 20px;
        }

        #game-screen {
            width: 100%;
            max-width: 550px;
            height: 280px;
            background-color: #34495e;
            background-size: cover;
            background-position: center;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            padding-bottom: 20px;
            border: 4px solid #bdc3c7;
        }

        .character-box { display: flex; flex-direction: column; align-items: center; margin: 0 5px; }
        .emoji { font-size: 55px; }
        .name-tag { background: rgba(255,255,255,0.9); color: black; padding: 2px 6px; border-radius: 5px; font-size: 11px; margin-top: 5px; font-weight: bold; }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            width: 100%;
            max-width: 550px;
            margin-top: 15px;
        }

        button {
            padding: 15px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.1s;
        }

        button:active { transform: scale(0.95); }

        .btn-click { 
            grid-column: span 2; 
            background: #2ecc71; 
            color: white; 
            height: 80px; 
            font-size: 22px;
            border-bottom: 5px solid #27ae60;
        }

        .btn-upgrade { background: #9b59b6; color: white; }
        .btn-friend { background: #e74c3c; color: white; }
        .btn-building { background: #e67e22; color: white; }

        /* ë§¤ì… ì™„ë£Œ(ë” ì´ìƒ êµ¬ë§¤ ë¶ˆê°€) ìŠ¤íƒ€ì¼ */
        button:disabled {
            background: #2c3e50 !important;
            color: #7f8c8d !important;
            cursor: not-allowed !important;
            opacity: 0.7;
            transform: none !important;
        }

        #log { margin-top: 20px; font-size: 14px; color: #f1c40f; min-height: 20px; font-weight: bold; }
    </style>
</head>
<body>

    <div id="stats">
        <div style="font-size: 16px; color: #f1c40f;">[ <span id="rank-name">ê¸¸ê±°ë¦¬ ê±°ì§€</span> ]</div>
        <div style="font-size: 32px; margin: 10px 0;">ğŸ’° <span id="money">0</span> ì›</div>
        <div style="display: flex; justify-content: space-around; font-size: 14px; opacity: 0.9;">
            <span>ğŸ‘† í´ë¦­: +<span id="click-power">1</span>ì›</span>
            <span>â±ï¸ ìë™: +<span id="auto-income">0</span>ì›/ì´ˆ</span>
        </div>
    </div>

    <div id="game-screen">
        <div id="friend-group" style="display: flex;"></div>
        <div class="character-box">
            <div class="emoji" id="player-emoji">ğŸšï¸</div>
            <div class="name-tag">ë‚˜</div>
        </div>
    </div>

    <div class="controls">
        <button class="btn-click" onclick="earnMoney()">ğŸ’µ ëˆ ë²Œê¸° (ë¬´í•œ ê´‘í´!)</button>
        
        <button class="btn-upgrade" id="upgradeBtn" onclick="levelUp()">
            ğŸ”¼ ì‹ ë¶„ ìƒìŠ¹ (<span id="upgradeCost">100</span>ì›)
        </button>
        
        <button class="btn-friend" id="friendBtn" onclick="buyFriend()">
            ğŸ¤ ì¹œêµ¬ ê³ ìš© (<span id="friendCost">50</span>ì›)
        </button>

        <button class="btn-building" id="b1" onclick="buyBuilding(5000000, 'ì›ë£¸ ë¹Œë”©', 20000, 'https://images.unsplash.com/photo-1580587767303-9fef00826514?w=600')">ğŸ¢ ì›ë£¸ ë§¤ì… (500ë§Œ)</button>
        <button class="btn-building" id="b2" onclick="buyBuilding(100000000, 'ê°•ë‚¨ ë¹Œë”©', 500000, 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=600')">ğŸ™ï¸ ê°•ë‚¨ ë¹Œë”© (1ì–µ)</button>
        <button class="btn-building" id="b3" onclick="buyBuilding(2000000000, 'ì´ˆí˜¸í™” í˜¸í…”', 15000000, 'https://images.unsplash.com/photo-1566073771259-6a8506099945?w=600')">ğŸ° í˜¸í…” ë§¤ì… (20ì–µ)</button>
        <button class="btn-building" id="b4" onclick="buyBuilding(50000000000, 'ìš°ì£¼ ì •ê±°ì¥', 1000000000, 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=600')">ğŸš€ ìš°ì£¼ ê¸°ì§€ (500ì–µ)</button>
    </div>

    <div id="log">ì¸ìƒ ì—­ì „ì˜ ê¿ˆì„ í–¥í•´ í´ë¦­í•˜ì„¸ìš”!</div>

    <script>
        let money = 0;
        let clickPower = 1;
        let autoIncome = 0;
        let level = 1;
        let upgradeCost = 100;
        let friends = 0;
        let friendCost = 50;
        const purchasedBuildings = new Set(); // êµ¬ë§¤í•œ ê±´ë¬¼ì„ ì €ì¥í•˜ëŠ” ì„¸íŠ¸

        const ranks = [
            { name: "ê¸¸ê±°ë¦¬ ê±°ì§€", emoji: "ğŸšï¸" }, { name: "ë™ë„¤ ê±°ì§€", emoji: "ğŸ§º" },
            { name: "ì•Œë°”ìƒ", emoji: "ğŸ“¦" }, { name: "ì§ì¥ì¸", emoji: "ğŸ‘•" },
            { name: "íŒ€ì¥ë‹˜", emoji: "ğŸ‘”" }, { name: "ì‚¬ì¥ë‹˜", emoji: "ğŸ’¼" },
            { name: "ì¬ë²Œ", emoji: "ğŸ’" }, { name: "í™©ì œ", emoji: "ğŸ‘‘" }
        ];

        function earnMoney() {
            money += clickPower;
            updateUI(); 
        }

        function levelUp() {
            if (level >= ranks.length) {
                showLog("ì´ë¯¸ ìµœê³  ì‹ ë¶„ì…ë‹ˆë‹¤!");
                return;
            }
            if (money >= upgradeCost) {
                money -= upgradeCost;
                level++;
                clickPower *= 2; 
                upgradeCost = Math.floor(upgradeCost * 5);
                showLog(`ë ˆë²¨ì—… ì„±ê³µ! í˜„ì¬ ì‹ ë¶„: ${ranks[level-1].name}`);
            } else {
                showLog(`ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤! (í•„ìš”: ${upgradeCost.toLocaleString()}ì›)`);
            }
            updateUI();
        }

        function buyFriend() {
            if (money >= friendCost) {
                money -= friendCost;
                friends++;
                autoIncome += (level * 10);
                
                const group = document.getElementById('friend-group');
                const newFriend = document.createElement('div');
                newFriend.className = 'character-box';
                newFriend.innerHTML = `<div class="emoji">ğŸ‘¦</div><div class="name-tag">ì¹œêµ¬${friends}</div>`;
                group.appendChild(newFriend);
                
                friendCost = Math.floor(friendCost * 2.5);
                showLog("ì¹œêµ¬ ê³ ìš© ì„±ê³µ!");
            } else {
                showLog(`ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤! (í•„ìš”: ${friendCost.toLocaleString()}ì›)`);
            }
            updateUI();
        }

        function buyBuilding(price, name, income, imgUrl) {
            // [í•µì‹¬] ì´ë¯¸ êµ¬ë§¤í•œ ê²½ìš° í•¨ìˆ˜ ì‹¤í–‰ ì¤‘ë‹¨
            if (purchasedBuildings.has(name)) return;

            if (money >= price) {
                money -= price;
                autoIncome += income;
                purchasedBuildings.add(name); // êµ¬ë§¤ ëª©ë¡ì— ì¶”ê°€
                document.getElementById('game-screen').style.backgroundImage = `url('${imgUrl}')`;
                showLog(`${name} ë§¤ì… ì™„ë£Œ! ì´ì œ ë‹¤ì‹œ ì‚´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`);
            } else {
                showLog(`ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤! (í•„ìš”: ${price.toLocaleString()}ì›)`);
            }
            updateUI();
        }

        function updateUI() {
            document.getElementById('money').innerText = Math.floor(money).toLocaleString();
            document.getElementById('click-power').innerText = clickPower.toLocaleString();
            document.getElementById('auto-income').innerText = autoIncome.toLocaleString();
            
            const currentRank = ranks[Math.min(level - 1, ranks.length - 1)];
            document.getElementById('player-emoji').innerText = currentRank.emoji;
            document.getElementById('rank-name').innerText = currentRank.name;
            document.getElementById('upgradeCost').innerText = upgradeCost.toLocaleString();
            document.getElementById('friendCost').innerText = friendCost.toLocaleString();

            // ê±´ë¬¼ ë²„íŠ¼ì˜ ë§¤ì… ì—¬ë¶€ ì²´í¬
            checkBuildingStatus('b1', 'ì›ë£¸ ë¹Œë”©');
            checkBuildingStatus('b2', 'ê°•ë‚¨ ë¹Œë”©');
            checkBuildingStatus('b3', 'ì´ˆí˜¸í™” í˜¸í…”');
            checkBuildingStatus('b4', 'ìš°ì£¼ ì •ê±°ì¥');
        }

        function checkBuildingStatus(id, name) {
            const btn = document.getElementById(id);
            if (purchasedBuildings.has(name)) {
                // ì´ë¯¸ êµ¬ë§¤í–ˆë‹¤ë©´ ë²„íŠ¼ì„ ì™„ì „íˆ ë¹„í™œì„±í™”
                btn.disabled = true;
                btn.innerText = "âœ… ë§¤ì… ì™„ë£Œ";
            }
        }

        function showLog(msg) {
            document.getElementById('log').innerText = msg;
        }

        setInterval(() => {
            if (autoIncome > 0) {
                money += (autoIncome / 10);
                updateUI();
            }
        }, 100);
    </script>
</body>
</html>