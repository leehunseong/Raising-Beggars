<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ê±°ì§€ í‚¤ìš°ê¸°: í´ë¦­ì˜ ì œì™•</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            background-color: #121212;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        #stats {
            background: linear-gradient(145deg, #2c3e50, #000000);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            border: 2px solid #f1c40f;
            width: 100%;
            max-width: 550px;
            margin-bottom: 20px;
        }

        #game-screen {
            width: 100%;
            max-width: 550px;
            height: 280px;
            background-color: #34495e;
            background-size: cover;
            background-position: center;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            padding-bottom: 20px;
            border: 4px solid #bdc3c7;
            overflow-x: auto; /* ì¹œêµ¬ê°€ ë§ì•„ì§€ë©´ ìŠ¤í¬ë¡¤ ê°€ëŠ¥ */
        }

        .character-box { display: flex; flex-direction: column; align-items: center; margin: 0 5px; flex-shrink: 0; }
        .emoji { font-size: 55px; }
        .name-tag { background: rgba(255,255,255,0.9); color: black; padding: 2px 6px; border-radius: 5px; font-size: 11px; margin-top: 5px; font-weight: bold; }

        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            width: 100%;
            max-width: 550px;
            margin-top: 15px;
        }

        button {
            padding: 15px;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.1s;
        }

        button:active { transform: scale(0.95); }

        .btn-click { 
            grid-column: span 2; 
            background: #2ecc71; 
            color: white; 
            height: 80px; 
            font-size: 22px;
            border-bottom: 5px solid #27ae60;
        }

        .btn-upgrade { background: #9b59b6; color: white; }
        .btn-friend { background: #e74c3c; color: white; }
        .btn-building { background: #e67e22; color: white; }

        button:disabled {
            background: #2c3e50 !important;
            color: #7f8c8d !important;
            cursor: not-allowed !important;
            opacity: 0.7;
        }

        #log { margin-top: 20px; font-size: 14px; color: #f1c40f; min-height: 20px; font-weight: bold; }
    </style>
</head>
<body>

    <div id="stats">
        <div style="font-size: 16px; color: #f1c40f;">[ <span id="rank-name">ê¸¸ê±°ë¦¬ ê±°ì§€</span> ]</div>
        <div style="font-size: 32px; margin: 10px 0;">ğŸ’° <span id="money">0</span> ì›</div>
        <div style="display: flex; justify-content: space-around; font-size: 14px; opacity: 0.9;">
            <span>ğŸ‘† í´ë¦­ ìˆ˜ìµ: +<span id="click-power">1</span>ì›</span>
            <span>â±ï¸ ìë™ ìˆ˜ìµ: +<span id="auto-income">0</span>ì›/ì´ˆ</span>
        </div>
    </div>

    <div id="game-screen">
        <div id="friend-group" style="display: flex;"></div>
        <div class="character-box">
            <div class="emoji" id="player-emoji">ğŸšï¸</div>
            <div class="name-tag">ë‚˜</div>
        </div>
    </div>

    <div class="controls">
        <button class="btn-click" onclick="earnMoney()">ğŸ’µ ëˆ ë²Œê¸° (ê´‘í´í•˜ì„¸ìš”!)</button>
        
        <button class="btn-upgrade" id="upgradeBtn" onclick="levelUp()">
            ğŸ”¼ ì‹ ë¶„ ìƒìŠ¹ (<span id="upgradeCost">100</span>ì›)
        </button>
        
        <button class="btn-friend" id="friendBtn" onclick="buyFriend()">
            ğŸ¤ ì¹œêµ¬ ê³ ìš© (<span id="friendCost">100</span>ì›)
        </button>

        <button class="btn-building" id="b1" onclick="buyBuilding(10000000, 'ì•„íŒŒíŠ¸', 30000, 'https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=600')">ğŸ¢ ì•„íŒŒíŠ¸ ë§¤ì… (1,000ë§Œ)</button>
        <button class="btn-building" id="b2" onclick="buyBuilding(500000000, 'ì‡¼í•‘ëª°', 1000000, 'https://images.unsplash.com/photo-1555529669-e69e7aa0ba9a?w=600')">ğŸ™ï¸ ì‡¼í•‘ëª° ë§¤ì… (5ì–µ)</button>
        <button class="btn-building" id="b3" onclick="buyBuilding(5000000000, 'ëœë“œë§ˆí¬ ë¹Œë”©', 20000000, 'https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=600')">ğŸ° ëœë“œë§ˆí¬ (50ì–µ)</button>
        <button class="btn-building" id="b4" onclick="buyBuilding(100000000000, 'í™”ì„± ê¸°ì§€', 1000000000, 'https://images.unsplash.com/photo-1614728263952-84ea206f25ab?w=600')">ğŸš€ í™”ì„± ê¸°ì§€ (1,000ì–µ)</button>
    </div>

    <div id="log">í´ë¦­ íš¨ìœ¨ì´ ëŒ€í­ ê°•í™”ë˜ì—ˆìŠµë‹ˆë‹¤! ì‹ ë¶„ì„ ì˜¬ë¦¬ì„¸ìš”.</div>

    <script>
        let money = 0;
        let clickPower = 1;
        let autoIncome = 0;
        let level = 1;
        let upgradeCost = 100; // ì‹ ë¶„ ìƒìŠ¹ ì´ˆê¸° ë¹„ìš©
        let friends = 0;
        let friendCost = 100; // ì¹œêµ¬ ì´ˆê¸° ë¹„ìš© ëŒ€í­ ì¸ìƒ
        const purchasedBuildings = new Set();
        
        // ë‹¤ì–‘í•œ ì¹œêµ¬ ì´ëª¨ì§€ ë¦¬ìŠ¤íŠ¸
        const friendEmojis = ["ğŸ‘¦", "ğŸ‘©", "ğŸ‘¨â€ğŸ¦±", "ğŸ‘±â€â™€ï¸", "ğŸ‘´", "ğŸ‘µ", "ğŸ‘³â€â™‚ï¸", "ğŸ‘²", "ğŸ§‘â€ğŸ’»", "ğŸ§‘â€ğŸ¨"];

        const ranks = [
            { name: "ê¸¸ê±°ë¦¬ ê±°ì§€", emoji: "ğŸšï¸" }, { name: "ë™ë„¤ ê±°ì§€", emoji: "ğŸ§º" },
            { name: "ì•Œë°”ìƒ", emoji: "ğŸ“¦" }, { name: "ì§ì¥ì¸", emoji: "ğŸ‘•" },
            { name: "íŒ€ì¥ë‹˜", emoji: "ğŸ‘”" }, { name: "ì‚¬ì¥ë‹˜", emoji: "ğŸ’¼" },
            { name: "ì¬ë²Œ", emoji: "ğŸ’" }, { name: "í™©ì œ", emoji: "ğŸ‘‘" }
        ];

        function earnMoney() {
            money += clickPower;
            updateUI(); 
        }

        function levelUp() {
            if (level >= ranks.length) {
                showLog("ì´ë¯¸ ìµœê³  ì‹ ë¶„ì…ë‹ˆë‹¤!");
                return;
            }
            if (money >= upgradeCost) {
                money -= upgradeCost;
                level++;
                clickPower *= 2.5; // í´ë¦­ íš¨ìœ¨ ëŒ€í­ ìƒí–¥ (2ë°° -> 2.5ë°°)
                upgradeCost = Math.floor(upgradeCost * 3.2); // ì‹ ë¶„ ìƒìŠ¹ ë¹„ìš© ë‚®ì¶¤ (5ë°° -> 3.2ë°°)
                showLog(`ë ˆë²¨ì—…! í´ë¦­ë‹¹ ${Math.floor(clickPower).toLocaleString()}ì›ì„ ë²•ë‹ˆë‹¤.`);
            } else {
                showLog(`ëˆì´ ë¶€ì¡±í•©ë‹ˆë‹¤! (í•„ìš”: ${upgradeCost.toLocaleString()}ì›)`);
            }
            updateUI();
        }

        function buyFriend() {
            if (money >= friendCost) {
                money -= friendCost;
                friends++;
                autoIncome += (level * 5); // ìë™ ìˆ˜ìµ ë¹„ì¤‘ ë‚®ì¶¤
                
                // ëœë¤ ì¹œêµ¬ ì´ë¯¸ì§€ ì¶”ê°€
                const randomEmoji = friendEmojis[Math.floor(Math.random() * friendEmojis.length)];
                const group = document.getElementById('friend-group');
                const newFriend = document.createElement('div');
                newFriend.className = 'character-box';
                newFriend.innerHTML = `<div class="emoji">${randomEmoji}</div><div class="name-tag">ì¡°ë ¥ì${friends}</div>`;
                group.appendChild(newFriend);
                
                friendCost = Math.floor(friendCost * 4); // ì¹œêµ¬ ë¹„ìš© ëŒ€í­ ì¸ìƒ (2.5ë°° -> 4ë°°)
                showLog("ì¹œêµ¬ë¥¼ ê³ ìš©í–ˆìŠµë‹ˆë‹¤! ìë™ ìˆ˜ìµì´ ì†Œí­ ì¦ê°€í•©ë‹ˆë‹¤.");
            } else {
                showLog(`ì¹œêµ¬ ê³ ìš©ë¹„ê°€ ë„ˆë¬´ ë¹„ìŒ‰ë‹ˆë‹¤! (í•„ìš”: ${friendCost.toLocaleString()}ì›)`);
            }
            updateUI();
        }

        function buyBuilding(price, name, income, imgUrl) {
            if (purchasedBuildings.has(name)) return;
            if (money >= price) {
                money -= price;
                autoIncome += income;
                purchasedBuildings.add(name);
                document.getElementById('game-screen').style.backgroundImage = `url('${imgUrl}')`;
                showLog(`${name} ë§¤ì… ì™„ë£Œ!`);
            } else {
                showLog(`ê±´ë¬¼ì´ ë„ˆë¬´ ë¹„ìŒ‰ë‹ˆë‹¤! (í•„ìš”: ${price.toLocaleString()}ì›)`);
            }
            updateUI();
        }

        function updateUI() {
            document.getElementById('money').innerText = Math.floor(money).toLocaleString();
            document.getElementById('click-power').innerText = Math.floor(clickPower).toLocaleString();
            document.getElementById('auto-income').innerText = Math.floor(autoIncome).toLocaleString();
            
            const currentRank = ranks[Math.min(level - 1, ranks.length - 1)];
            document.getElementById('player-emoji').innerText = currentRank.emoji;
            document.getElementById('rank-name').innerText = currentRank.name;
            document.getElementById('upgradeCost').innerText = upgradeCost.toLocaleString();
            document.getElementById('friendCost').innerText = friendCost.toLocaleString();

            checkBuildingStatus('b1', 'ì•„íŒŒíŠ¸');
            checkBuildingStatus('b2', 'ì‡¼í•‘ëª°');
            checkBuildingStatus('b3', 'ëœë“œë§ˆí¬ ë¹Œë”©');
            checkBuildingStatus('b4', 'í™”ì„± ê¸°ì§€');
        }

        function checkBuildingStatus(id, name) {
            const btn = document.getElementById(id);
            if (purchasedBuildings.has(name)) {
                btn.disabled = true;
                btn.innerText = "âœ… ë§¤ì… ì™„ë£Œ";
            }
        }

        function showLog(msg) {
            document.getElementById('log').innerText = msg;
        }

        setInterval(() => {
            if (autoIncome > 0) {
                money += (autoIncome / 10);
                updateUI();
            }
        }, 100);
    </script>
</body>
</html>